(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[691],{2691:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});r(8309);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container mt-5"},[e.recipe?t("div",[t("div",{staticClass:"text-center mb-4"},[t("h1",{staticClass:"display-4"},[e._v(e._s(e.recipe.title))]),t("img",{staticClass:"img-fluid rounded recipe-image",attrs:{src:e.recipe.image||e.defaultImage,alt:"Recipe Image"}})]),e.recipe.instructions&&e.recipe.instructions.length>0?t("div",{staticClass:"text-center mt-3"},[t("h5",[e._v("Progress label")]),t("b-progress",{attrs:{value:e.progress,max:e.max_len,precision:2}}),t("span",[e._v(e._s(e.progress)+"/"+e._s(e.max_len))])],1):e._e(),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-6 mb-4"},[t("h2",{staticClass:"h4"},[e._v("Ingredients")]),t("ul",{staticClass:"list-group"},e._l(e.multipliedIngredients,(function(r){return t("li",{key:r.id,staticClass:"list-group-item"},[e._v(" "+e._s(r.amount)+" "+e._s(r.unit)+" "+e._s(r.name)+" ")])})),0),t("b-button",{staticClass:"mt-3",attrs:{variant:"primary"},on:{click:e.multiplyIngredients}},[e._v("Double Ingredients")])],1),e.recipe.instructions&&e.recipe.instructions.length?t("div",{staticClass:"col-md-6 mb-4"},[t("h2",{staticClass:"h4"},[e._v("Preparation Steps")]),t("ul",{staticClass:"list-group"},e._l(e.recipe.instructions,(function(r,i){return t("li",{key:i,staticClass:"list-group-item"},[t("b-form-checkbox",{on:{change:e.saveProgress},model:{value:e.stepCompleted[i],callback:function(t){e.$set(e.stepCompleted,i,t)},expression:"stepCompleted[index]"}},[e._v(" "+e._s(r)+" ")])],1)})),0)]):e._e()])]):e._e()])},n=[],s=r(3144),a=r(124),o=r(5957),c=r(8534),u=(r(9826),r(1539),r(9554),r(4747),r(7658),r(1249),r(8862),r(3290),r(7327),r(3093));const l={name:"recipeprep",data:function(){return{recipe:null,multipliedIngredients:[],stepCompleted:[],defaultImage:r(154),progress:0,max_len:1}},methods:{getImageUrl:function(e){try{return r(7173)("./".concat(e))}catch(t){return console.error("Image not found: ".concat(e)),""}},fetchRecipe:function(){var e=this;return(0,c.Z)((0,a.Z)().mark((function t(){var r,i,n,s,c,l,p,f;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.$route.params.id,i=e.$route.query.collection,s=[],c=[],"family"!==i){t.next=12;break}s=u||"[]",c=s.find((function(e){return e.id===r})),n=c,e.recipe={id:n.id,title:n.title,image:e.getImageUrl(n.image[0]),ingredients:n.ingredients,preparation:n.preparation},e.multipliedIngredients=e.recipe.ingredients,t.next=34;break;case 12:if("myrecipes"!==i){t.next=23;break}s=JSON.parse(localStorage.getItem("myRecipes")||"[]"),c=s.find((function(e){return e.id===r})),n=c,l=[],n.ingredients.forEach((function(e){l.push({name:e.name,amount:e.amount.metric.value,unit:e.amount.metric.unit})})),e.recipe={id:n.id,title:n.title,ingredients:l,instructions:n.analyzedInstructions&&n.analyzedInstructions[0]?n.analyzedInstructions[0].steps.map((function(e){return e.step})):[]},e.multipliedIngredients=(0,o.Z)(e.recipe.ingredients),e.recipe.instructions&&(e.max_len=e.recipe.instructions.length),t.next=34;break;case 23:return c=s.find((function(e){return e.id===r})),t.next=26,fetch("https://api.spoonacular.com/recipes/".concat(r,"/information?apiKey=709325a1a8844ca3ab65110a4d2e4b90"));case 26:return f=t.sent,t.next=29,f.json();case 29:n=t.sent,e.recipe={id:n.id,title:n.title,image:n.image,ingredients:n.extendedIngredients.map((function(e){return{id:e.id,name:e.name,amount:e.measures.metric.amount,unit:e.measures.metric.unitShort}})),instructions:(null===(p=n.analyzedInstructions[0])||void 0===p?void 0:p.steps.map((function(e){return e.step})))||[]},e.multipliedIngredients=(0,o.Z)(e.recipe.ingredients),e.loadProgress(),e.recipe.instructions&&(e.max_len=e.recipe.instructions.length);case 34:case"end":return t.stop()}}),t)})))()},multiplyIngredients:function(){this.multipliedIngredients=this.multipliedIngredients.map((function(e){return(0,s.Z)((0,s.Z)({},e),{},{amount:2*e.amount})})),this.max_len=this.recipe.instructions.length},saveProgress:function(){localStorage.setItem("recipeProgress-".concat(this.recipe.id),JSON.stringify(this.stepCompleted)),this.updateProgress()},loadProgress:function(){var e=localStorage.getItem("recipeProgress-".concat(this.recipe.id));this.stepCompleted=e?JSON.parse(e):Array(this.recipe.instructions.length).fill(!1),this.updateProgress()},logout:function(){localStorage.removeItem("recipeProgress-".concat(this.recipe.id)),this.stepCompleted=Array(this.recipe.instructions.length).fill(!1)},updateProgress:function(){var e=this.stepCompleted.filter((function(e){return e})).length;0!=this.max_len&&(this.progress=e/this.max_len*this.max_len)}},mounted:function(){this.fetchRecipe(),this.updateProgress()}},p=l;var f=r(1001),d=(0,f.Z)(p,i,n,!1,null,"fd7aedc6",null);const m=d.exports},1285:(e,t,r)=>{"use strict";var i=r(7908),n=r(1400),s=r(6244);e.exports=function(e){var t=i(this),r=s(t),a=arguments.length,o=n(a>1?arguments[1]:void 0,r),c=a>2?arguments[2]:void 0,u=void 0===c?r:n(c,r);while(u>o)t[o++]=e;return t}},8709:(e,t,r)=>{"use strict";var i=r(9670),n=r(2140),s=TypeError;e.exports=function(e){if(i(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw s("Incorrect hint");return n(this,e)}},3111:(e,t,r)=>{var i=r(1702),n=r(4488),s=r(1340),a=r(1361),o=i("".replace),c=RegExp("^["+a+"]+"),u=RegExp("(^|[^"+a+"])["+a+"]+$"),l=function(e){return function(t){var r=s(n(t));return 1&e&&(r=o(r,c,"")),2&e&&(r=o(r,u,"$1")),r}};e.exports={start:l(1),end:l(2),trim:l(3)}},863:(e,t,r)=>{var i=r(1702);e.exports=i(1..valueOf)},1361:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},3290:(e,t,r)=>{var i=r(2109),n=r(1285),s=r(1223);i({target:"Array",proto:!0},{fill:n}),s("fill")},7327:(e,t,r)=>{"use strict";var i=r(2109),n=r(2092).filter,s=r(1194),a=s("filter");i({target:"Array",proto:!0,forced:!a},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},9826:(e,t,r)=>{"use strict";var i=r(2109),n=r(2092).find,s=r(1223),a="find",o=!0;a in[]&&Array(1)[a]((function(){o=!1})),i({target:"Array",proto:!0,forced:o},{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),s(a)},6078:(e,t,r)=>{var i=r(2597),n=r(8052),s=r(8709),a=r(5112),o=a("toPrimitive"),c=Date.prototype;i(c,o)||n(c,o,s)},9653:(e,t,r)=>{"use strict";var i=r(2109),n=r(1913),s=r(9781),a=r(7854),o=r(857),c=r(1702),u=r(4705),l=r(2597),p=r(9587),f=r(7976),d=r(2190),m=r(7593),g=r(7293),h=r(8006).f,v=r(1236).f,b=r(3070).f,y=r(863),I=r(3111).trim,_="Number",x=a[_],O=o[_],P=x.prototype,C=a.TypeError,N=c("".slice),w=c("".charCodeAt),j=function(e){var t=m(e,"number");return"bigint"==typeof t?t:S(t)},S=function(e){var t,r,i,n,s,a,o,c,u=m(e,"number");if(d(u))throw C("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=I(u),t=w(u,0),43===t||45===t){if(r=w(u,2),88===r||120===r)return NaN}else if(48===t){switch(w(u,1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+u}for(s=N(u,2),a=s.length,o=0;o<a;o++)if(c=w(s,o),c<48||c>n)return NaN;return parseInt(s,i)}return+u},E=u(_,!x(" 0o1")||!x("0b1")||x("+0x1")),k=function(e){return f(P,e)&&g((function(){y(e)}))},A=function(e){var t=arguments.length<1?0:x(j(e));return k(this)?p(Object(t),this,A):t};A.prototype=P,E&&!n&&(P.constructor=A),i({global:!0,constructor:!0,wrap:!0,forced:E},{Number:A});var Z=function(e,t){for(var r,i=s?h(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),n=0;i.length>n;n++)l(t,r=i[n])&&!l(e,r)&&b(e,r,v(t,r))};n&&O&&Z(o[_],O),(E||n)&&Z(o[_],x)},3321:(e,t,r)=>{var i=r(2109),n=r(9781),s=r(6048).f;i({target:"Object",stat:!0,forced:Object.defineProperties!==s,sham:!n},{defineProperties:s})},5003:(e,t,r)=>{var i=r(2109),n=r(7293),s=r(5656),a=r(1236).f,o=r(9781),c=!o||n((function(){a(1)}));i({target:"Object",stat:!0,forced:c,sham:!o},{getOwnPropertyDescriptor:function(e,t){return a(s(e),t)}})},9337:(e,t,r)=>{var i=r(2109),n=r(9781),s=r(3887),a=r(5656),o=r(1236),c=r(6135);i({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(e){var t,r,i=a(e),n=o.f,u=s(i),l={},p=0;while(u.length>p)r=n(i,t=u[p++]),void 0!==r&&c(l,t,r);return l}})},7941:(e,t,r)=>{var i=r(2109),n=r(7908),s=r(1956),a=r(7293),o=a((function(){s(1)}));i({target:"Object",stat:!0,forced:o},{keys:function(e){return s(n(e))}})},6649:(e,t,r)=>{var i=r(6800),n=r(6532);i("toPrimitive"),n()},3144:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});r(7941),r(2526),r(7327),r(1539),r(5003),r(7658),r(9554),r(4747),r(9337),r(3321),r(9070);var i=r(3336);r(6649),r(6078),r(1817),r(1703),r(6647),r(9653);function n(e,t){if("object"!==(0,i.Z)(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==(0,i.Z)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function s(e){var t=n(e,"string");return"symbol"===(0,i.Z)(t)?t:String(t)}function a(e,t,r){return t=s(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}}}]);
//# sourceMappingURL=691.2427c300.js.map