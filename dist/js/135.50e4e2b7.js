(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[135],{135:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});r(9753),r(2222),r(7042);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[e.recipe?t("div",[t("div",{staticClass:"recipe-header mt-3 mb-4"},[t("h1",[e._v(e._s(e.recipe.title))]),t("img",{staticClass:"center",attrs:{src:e.recipe.image}})]),t("div",{staticClass:"recipe-body"},[t("div",{staticClass:"wrapper"},[t("div",{staticClass:"wrapped"},[t("div",{staticClass:"mb-3"},[t("div",[t("b-icon",{staticClass:"viewed-icon",attrs:{icon:"eye"}}),e.recipe.vegetarian?t("span",[t("img",{staticClass:"vegi",attrs:{src:r(7330)}})]):e._e(),e.recipe.vegan?t("span",[t("img",{staticClass:"vegan",attrs:{src:r(3238)}})]):e._e(),e.recipe.glutenFree?t("span",[t("img",{staticClass:"glutenfree",attrs:{src:r(3754)}})]):e._e()],1),t("div",{staticClass:"btn-group-toggle"},[t("label",{staticClass:"btn btn-secondary active",staticStyle:{"background-color":"white"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.isFavorite,expression:"isFavorite"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isFavorite)?e._i(e.isFavorite,null)>-1:e.isFavorite},on:{change:[function(t){var r=e.isFavorite,i=t.target,n=!!i.checked;if(Array.isArray(r)){var a=null,s=e._i(r,a);i.checked?s<0&&(e.isFavorite=r.concat([a])):s>-1&&(e.isFavorite=r.slice(0,s).concat(r.slice(s+1)))}else e.isFavorite=n},e.toggleFavorite]}}),t("img",{staticClass:"favorite-icon",attrs:{src:e.favoriteImage,alt:"Favorite"}})])]),t("div",[e._v("Ready in "+e._s(e.recipe.readyInMinutes)+" minutes")]),t("div",[e._v("Likes: "+e._s(e.recipe.aggregateLikes)+" likes")])]),e._v(" Ingredients: "),t("ul",e._l(e.recipe.extendedIngredients,(function(r,i){return t("li",{key:i+"_"+r.id},[e._v(" "+e._s(r.original)+" ")])})),0)]),e.recipe._instructions&&e.recipe._instructions.length?t("div",{staticClass:"wrapped"},[e._v(" Instructions: "),t("ol",e._l(e.recipe._instructions,(function(r,i){return t("li",{key:i},[e._v(" "+e._s(r.step)+" ")])})),0)]):e._e(),t("div",{staticClass:"text-center mt-3"},[t("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:e.goToPreparationPage}},[t("b-icon",{attrs:{icon:"play-circle"}}),e._v(" Prepare ")],1)],1),t("div",{staticClass:"text-center mt-3"},[t("b-button",{attrs:{variant:"success",size:"sm"},on:{click:e.addToGuestPlan}},[t("b-icon",{attrs:{icon:"plus-circle"}}),e._v(" Add to Guest Plan ")],1)],1)])])]):e._e()])},n=[],a=r(3144),s=r(124),o=r(5957),c=r(8534),u=(r(4916),r(5306),r(5827),r(1539),r(1249),r(7658),r(8862),r(5212),r(4553),r(561),r(8309),r(9669)),l=r.n(u);r(3628);const v={data:function(){return{isFavorite:!1,recipe:null,apiKey:"709325a1a8844ca3ab65110a4d2e4b90",guestPlan:[],guests:1}},created:function(){var e=this;return(0,c.Z)((0,s.Z)().mark((function t(){var r,i,n,a,c,u,v,p,f,g,d,h,m,b;return(0,s.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r=e.$route.params.recipeId,t.prev=2,t.next=5,l().get("https://api.spoonacular.com/recipes/".concat(r,"/information?apiKey=").concat(e.apiKey));case 5:i=t.sent,t.next=13;break;case 8:return t.prev=8,t.t0=t["catch"](2),console.error("Error fetching recipe from API:",t.t0.response?t.t0.response.status:t.t0.message),e.$router.replace("/NotFound"),t.abrupt("return");case 13:n=i.data,a=n.analyzedInstructions,c=n.extendedIngredients,u=n.aggregateLikes,v=n.readyInMinutes,p=n.image,f=n.title,g=n.vegan,d=n.vegetarian,h=n.glutenFree,m=n.id,console.log(i),b=a.map((function(e){return e.steps})).reduce((function(e,t){return[].concat((0,o.Z)(e),(0,o.Z)(t))}),[]),e.recipe={_instructions:b,extendedIngredients:c,aggregateLikes:u,readyInMinutes:v,image:p,title:f,vegan:g,vegetarian:d,glutenFree:h,id:m},e.saveToLastViewed(),e.isFavorite=e.getFavoriteState(e.recipe),t.next=24;break;case 21:t.prev=21,t.t1=t["catch"](0),console.error("Unexpected error:",t.t1);case 24:case"end":return t.stop()}}),t,null,[[0,21],[2,8]])})))()},methods:{goToPreparationPage:function(){this.$router.push({name:"recipeprep",params:{id:this.$route.params.recipeId}})},saveToLastViewed:function(){var e=JSON.parse(localStorage.getItem("lastviewed"))||[];e.push(this.$route.params.recipeId),e.length>10&&e.shift(),localStorage.setItem("lastviewed",JSON.stringify(e))},toggleFavorite:function(){this.isFavorite=!this.isFavorite,this.isFavorite?this.addToFavorites():this.removeFromFavorites()},addToFavorites:function(){var e=this,t=JSON.parse(localStorage.getItem("favorites"))||[];t.some((function(t){return t.id===e.recipe.id}))||(t.push(this.recipe),localStorage.setItem("favorites",JSON.stringify(t)))},removeFromFavorites:function(){var e=this,t=JSON.parse(localStorage.getItem("favorites"))||[],r=t.findIndex((function(t){return t.id===e.recipe.id}));-1!==r&&(t.splice(r,1),localStorage.setItem("favorites",JSON.stringify(t)))},getFavoriteState:function(e){var t=JSON.parse(localStorage.getItem("favorites"))||[];return t.some((function(t){return t.id===e.id}))},addToGuestPlan:function(){this.guestPlan.push(this.recipe),this.updateIngredientsForGuests()},updateIngredientsForGuests:function(){var e=this;this.recipe.extendedIngredients=this.recipe.extendedIngredients.map((function(t){var r=(0,a.Z)({},t);return r.original="".concat(t.amount*e.guests," ").concat(t.unit," ").concat(t.name),r}))}},computed:{favoriteImage:function(){return this.isFavorite?r(8051):r(3421)},updatedIngredients:function(){var e=this;return this.recipe.extendedIngredients.map((function(t){return(0,a.Z)((0,a.Z)({},t),{},{original:"".concat(t.amount*e.guests," ").concat(t.unit," ").concat(t.name)})}))}},updated:function(){this.isFavorite=this.getFavoriteState(this.recipe)}},p=v;var f=r(1001),g=(0,f.Z)(p,i,n,!1,null,"2f57762e",null);const d=g.exports},1530:(e,t,r)=>{"use strict";var i=r(8710).charAt;e.exports=function(e,t,r){return t+(r?i(e,t).length:1)}},8709:(e,t,r)=>{"use strict";var i=r(9670),n=r(2140),a=TypeError;e.exports=function(e){if(i(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw a("Incorrect hint");return n(this,e)}},7007:(e,t,r)=>{"use strict";r(4916);var i=r(1470),n=r(8052),a=r(2261),s=r(7293),o=r(5112),c=r(8880),u=o("species"),l=RegExp.prototype;e.exports=function(e,t,r,v){var p=o(e),f=!s((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),g=f&&!s((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[u]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return t=!0,null},r[p](""),!t}));if(!f||!g||r){var d=i(/./[p]),h=t(p,""[e],(function(e,t,r,n,s){var o=i(e),c=t.exec;return c===a||c===l.exec?f&&!s?{done:!0,value:d(t,r,n)}:{done:!0,value:o(r,t,n)}:{done:!1}}));n(String.prototype,e,h[0]),n(l,p,h[1])}v&&c(l[p],"sham",!0)}},647:(e,t,r)=>{var i=r(1702),n=r(7908),a=Math.floor,s=i("".charAt),o=i("".replace),c=i("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,i,v,p){var f=r+e.length,g=i.length,d=l;return void 0!==v&&(v=n(v),d=u),o(p,d,(function(n,o){var u;switch(s(o,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,r);case"'":return c(t,f);case"<":u=v[c(o,1,-1)];break;default:var l=+o;if(0===l)return n;if(l>g){var p=a(l/10);return 0===p?n:p<=g?void 0===i[p-1]?s(o,1):i[p-1]+s(o,1):n}u=i[l-1]}return void 0===u?"":u}))}},7651:(e,t,r)=>{var i=r(6916),n=r(9670),a=r(614),s=r(4326),o=r(2261),c=TypeError;e.exports=function(e,t){var r=e.exec;if(a(r)){var u=i(r,e,t);return null!==u&&n(u),u}if("RegExp"===s(e))return i(o,e,t);throw c("RegExp#exec called on incompatible receiver")}},3111:(e,t,r)=>{var i=r(1702),n=r(4488),a=r(1340),s=r(1361),o=i("".replace),c=RegExp("^["+s+"]+"),u=RegExp("(^|[^"+s+"])["+s+"]+$"),l=function(e){return function(t){var r=a(n(t));return 1&e&&(r=o(r,c,"")),2&e&&(r=o(r,u,"$1")),r}};e.exports={start:l(1),end:l(2),trim:l(3)}},863:(e,t,r)=>{var i=r(1702);e.exports=i(1..valueOf)},1361:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},7327:(e,t,r)=>{"use strict";var i=r(2109),n=r(2092).filter,a=r(1194),s=a("filter");i({target:"Array",proto:!0,forced:!s},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},6078:(e,t,r)=>{var i=r(2597),n=r(8052),a=r(8709),s=r(5112),o=s("toPrimitive"),c=Date.prototype;i(c,o)||n(c,o,a)},9653:(e,t,r)=>{"use strict";var i=r(2109),n=r(1913),a=r(9781),s=r(7854),o=r(857),c=r(1702),u=r(4705),l=r(2597),v=r(9587),p=r(7976),f=r(2190),g=r(7593),d=r(7293),h=r(8006).f,m=r(1236).f,b=r(3070).f,y=r(863),I=r(3111).trim,x="Number",_=s[x],F=o[x],O=_.prototype,w=s.TypeError,S=c("".slice),P=c("".charCodeAt),N=function(e){var t=g(e,"number");return"bigint"==typeof t?t:k(t)},k=function(e){var t,r,i,n,a,s,o,c,u=g(e,"number");if(f(u))throw w("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=I(u),t=P(u,0),43===t||45===t){if(r=P(u,2),88===r||120===r)return NaN}else if(48===t){switch(P(u,1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+u}for(a=S(u,2),s=a.length,o=0;o<s;o++)if(c=P(a,o),c<48||c>n)return NaN;return parseInt(a,i)}return+u},E=u(x,!_(" 0o1")||!_("0b1")||_("+0x1")),C=function(e){return p(O,e)&&d((function(){y(e)}))},j=function(e){var t=arguments.length<1?0:_(N(e));return C(this)?v(Object(t),this,j):t};j.prototype=O,E&&!n&&(O.constructor=j),i({global:!0,constructor:!0,wrap:!0,forced:E},{Number:j});var $=function(e,t){for(var r,i=a?h(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),n=0;i.length>n;n++)l(t,r=i[n])&&!l(e,r)&&b(e,r,m(t,r))};n&&F&&$(o[x],F),(E||n)&&$(o[x],_)},3321:(e,t,r)=>{var i=r(2109),n=r(9781),a=r(6048).f;i({target:"Object",stat:!0,forced:Object.defineProperties!==a,sham:!n},{defineProperties:a})},5003:(e,t,r)=>{var i=r(2109),n=r(7293),a=r(5656),s=r(1236).f,o=r(9781),c=!o||n((function(){s(1)}));i({target:"Object",stat:!0,forced:c,sham:!o},{getOwnPropertyDescriptor:function(e,t){return s(a(e),t)}})},9337:(e,t,r)=>{var i=r(2109),n=r(9781),a=r(3887),s=r(5656),o=r(1236),c=r(6135);i({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(e){var t,r,i=s(e),n=o.f,u=a(i),l={},v=0;while(u.length>v)r=n(i,t=u[v++]),void 0!==r&&c(l,t,r);return l}})},7941:(e,t,r)=>{var i=r(2109),n=r(7908),a=r(1956),s=r(7293),o=s((function(){a(1)}));i({target:"Object",stat:!0,forced:o},{keys:function(e){return a(n(e))}})},5306:(e,t,r)=>{"use strict";var i=r(2104),n=r(6916),a=r(1702),s=r(7007),o=r(7293),c=r(9670),u=r(614),l=r(8554),v=r(9303),p=r(7466),f=r(1340),g=r(4488),d=r(1530),h=r(8173),m=r(647),b=r(7651),y=r(5112),I=y("replace"),x=Math.max,_=Math.min,F=a([].concat),O=a([].push),w=a("".indexOf),S=a("".slice),P=function(e){return void 0===e?e:String(e)},N=function(){return"$0"==="a".replace(/./,"$0")}(),k=function(){return!!/./[I]&&""===/./[I]("a","$0")}(),E=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));s("replace",(function(e,t,r){var a=k?"$":"$0";return[function(e,r){var i=g(this),a=l(e)?void 0:h(e,I);return a?n(a,e,i,r):n(t,f(i),e,r)},function(e,n){var s=c(this),o=f(e);if("string"==typeof n&&-1===w(n,a)&&-1===w(n,"$<")){var l=r(t,s,o,n);if(l.done)return l.value}var g=u(n);g||(n=f(n));var h=s.global;if(h){var y=s.unicode;s.lastIndex=0}var I=[];while(1){var N=b(s,o);if(null===N)break;if(O(I,N),!h)break;var k=f(N[0]);""===k&&(s.lastIndex=d(o,p(s.lastIndex),y))}for(var E="",C=0,j=0;j<I.length;j++){N=I[j];for(var $=f(N[0]),T=x(_(v(N.index),o.length),0),A=[],Z=1;Z<N.length;Z++)O(A,P(N[Z]));var M=N.groups;if(g){var L=F([$],A,T,o);void 0!==M&&O(L,M);var G=f(i(n,void 0,L))}else G=m($,o,T,A,M,n);T>=C&&(E+=S(o,C,T)+G,C=T+$.length)}return E+S(o,C)}]}),!E||!N||k)},6649:(e,t,r)=>{var i=r(6800),n=r(6532);i("toPrimitive"),n()},3144:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});r(7941),r(2526),r(7327),r(1539),r(5003),r(7658),r(9554),r(4747),r(9337),r(3321),r(9070);var i=r(3336);r(6649),r(6078),r(1817),r(1703),r(6647),r(9653);function n(e,t){if("object"!==(0,i.Z)(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==(0,i.Z)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function a(e){var t=n(e,"string");return"symbol"===(0,i.Z)(t)?t:String(t)}function s(e,t,r){return t=a(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}}}]);
//# sourceMappingURL=135.50e4e2b7.js.map